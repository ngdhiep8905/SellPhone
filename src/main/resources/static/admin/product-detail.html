<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <title>Chi ti·∫øt s·∫£n ph·∫©m ‚Äì SellPhone Admin</title>
    <link rel="stylesheet" href="admin.css" />
</head>
<body>

<div class="admin-container">

    <!-- SIDEBAR gi·ªëng c√°c trang admin -->
    <aside class="sidebar">
        <div class="sidebar-header">
            <h2>üì± SellPhone</h2>
        </div>

        <div class="sidebar-menu">
            <a href="admin.html" class="menu-item">
                <span class="icon">üìä</span><span class="text">Dashboard</span>
            </a>
            <a href="products.html" class="menu-item active">
                <span class="icon">üì¶</span><span class="text">S·∫£n ph·∫©m</span>
            </a>
            <a href="brands.html" class="menu-item">
                <span class="icon">üè∑Ô∏è</span><span class="text">Th∆∞∆°ng hi·ªáu</span>
            </a>
            <a href="orders.html" class="menu-item">
                <span class="icon">üßæ</span><span class="text">ƒê∆°n h√†ng</span>
            </a>
            <a href="users.html" class="menu-item">
                <span class="icon">üë§</span><span class="text">Ng∆∞·ªùi d√πng</span>
            </a>

            <div class="sidebar-separator"></div>

            <a href="#" class="menu-item logout-item" onclick="window.close()">
                <span class="icon">üö™</span>
                <span class="text">ƒê√≥ng tab</span>
            </a>
        </div>
    </aside>

    <!-- MAIN -->
    <main class="main-content">

        <header class="topbar">
            <div>
                <h1 style="margin:0;">Chi ti·∫øt s·∫£n ph·∫©m</h1>
                <div style="opacity:.8; font-size:13px; margin-top:4px;">
                    Ch·ªânh s·ª≠a th√¥ng tin, l∆∞u ƒë·ªÉ c·∫≠p nh·∫≠t
                </div>
            </div>

            <div style="display:flex; gap:10px;">
                <button class="btn" onclick="saveDetail()">L∆∞u</button>
                <button class="btn" style="background:#d63031" onclick="window.close()">ƒê√≥ng</button>
            </div>
        </header>

        <div class="detail-wrap">
            <!-- C·ªôt tr√°i: th√¥ng tin + c·∫•u h√¨nh -->
            <section class="card">
                <div class="card-title">Th√¥ng tin c∆° b·∫£n</div>

                <div class="form-grid">
                    <div class="field">
                        <label>M√£ s·∫£n ph·∫©m (ID)</label>
                        <input id="d_phoneId" type="text" disabled />
                    </div>

                    <div class="field">
                        <label>Tr·∫°ng th√°i</label>
                        <select id="d_status">
                            <option value="ACTIVE">ACTIVE</option>
                            <option value="INACTIVE">INACTIVE</option>
                            <option value="OUT_OF_STOCK">OUT_OF_STOCK</option>
                        </select>
                    </div>

                    <div class="field full">
                        <label>T√™n s·∫£n ph·∫©m</label>
                        <input id="d_phoneName" type="text" />
                    </div>

                    <div class="field">
                        <label>Gi√°</label>
                        <input id="d_price" type="number" />
                    </div>

                    <div class="field">
                        <label>T·ªìn kho</label>
                        <input id="d_stockQuantity" type="number" min="0" />
                    </div>

                    <div class="field full">
                        <label>Th∆∞∆°ng hi·ªáu</label>
                        <select id="d_brandId"></select>
                    </div>
                </div>

                <div class="divider"></div>

                <div class="card-title">C·∫•u h√¨nh</div>
                <div class="form-grid">
                    <div class="field">
                        <label>Chipset</label>
                        <input id="d_chipset" type="text" />
                    </div>

                    <div class="field">
                        <label>RAM</label>
                        <input id="d_ramSize" type="text" placeholder="V√≠ d·ª•: 8GB" />
                    </div>

                    <div class="field">
                        <label>B·ªô nh·ªõ</label>
                        <input id="d_storageSize" type="text" placeholder="V√≠ d·ª•: 256GB" />
                    </div>

                    <div class="field">
                        <label>M√†n h√¨nh</label>
                        <input id="d_screenInfo" type="text" />
                    </div>

                    <div class="field">
                        <label>Pin</label>
                        <input id="d_batteryInfo" type="text" />
                    </div>

                    <div class="field">
                        <label>Camera sau</label>
                        <input id="d_rearCamera" type="text" />
                    </div>

                    <div class="field">
                        <label>Camera tr∆∞·ªõc</label>
                        <input id="d_frontCamera" type="text" />
                    </div>

                    <div class="field">
                        <label>H·ªá ƒëi·ªÅu h√†nh</label>
                        <input id="d_osVersion" type="text" />
                    </div>

                    <div class="field">
                        <label>M√†u</label>
                        <input id="d_color" type="text" />
                    </div>

                    <div class="field full">
                        <label>M√¥ t·∫£</label>
                        <textarea id="d_phoneDescription" rows="5"></textarea>
                    </div>
                </div>
            </section>

            <!-- C·ªôt ph·∫£i: ·∫£nh -->
            <aside class="card">
                <div class="card-title">H√¨nh ·∫£nh</div>

                <div class="field">
                    <label>·∫¢nh ƒë·∫°i di·ªán</label>
                    <input id="d_coverImageFile" type="file" accept="image/*">
                    <div class="hint">Ch·ªçn ·∫£nh t·ª´ m√°y. H·ªá th·ªëng s·∫Ω upload v√† l∆∞u ƒë∆∞·ªùng d·∫´n v√†o DB.</div>

                    <img id="d_coverPreview" class="img-preview" alt="preview" style="display:none;" />
                </div>


                <div class="divider"></div>

                <div class="field">
                    <label>·∫¢nh chi ti·∫øt (m·ªói d√≤ng 1 URL)</label>
                    <textarea id="d_detailImages" rows="10" placeholder="/images/a.jpg&#10;/images/b.jpg"></textarea>
                    <div class="hint">G·ª£i √Ω: m·ªói d√≤ng 1 ƒë∆∞·ªùng d·∫´n ·∫£nh. Backend ph·∫£i h·ªó tr·ª£ l∆∞u `detailImages`.</div>
                </div>
            </aside>
        </div>

    </main>
</div>

<script src="product-detail.js"></script>
<script>
    // Preview cover URL (frontend-only)
    const coverInput = document.getElementById("d_coverImageURL");
    const coverPrev = document.getElementById("d_coverPreview");
    function refreshCoverPreview() {
      const v = (coverInput.value || "").trim();
      if (!v) { coverPrev.style.display = "none"; coverPrev.src = ""; return; }
      coverPrev.src = v;
      coverPrev.style.display = "block";
    }
    coverInput.addEventListener("input", refreshCoverPreview);
    window.addEventListener("load", () => setTimeout(refreshCoverPreview, 300));
</script>
</body>
</html>
