<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Qu·∫£n l√Ω ƒê∆°n h√†ng ‚Äì SellPhone Admin</title>

    <link rel="stylesheet" href="admin.css">
</head>

<body>

<div class="admin-container">

    <!-- SIDEBAR -->
    <aside class="sidebar">

        <div class="sidebar-header">
            <h2>üì± SellPhone</h2>
        </div>

        <div class="sidebar-menu">
            <a href="admin.html" class="menu-item">
                <span class="icon">üìä</span><span class="text">Dashboard</span>
            </a>

            <a href="products.html" class="menu-item">
                <span class="icon">üì¶</span><span class="text">S·∫£n ph·∫©m</span>
            </a>

            <a href="brands.html" class="menu-item">
                <span class="icon">üè∑Ô∏è</span><span class="text">Th∆∞∆°ng hi·ªáu</span>
            </a>

            <a href="orders.html" class="menu-item active">
                <span class="icon">üßæ</span><span class="text">ƒê∆°n h√†ng</span>
            </a>

            <a href="users.html" class="menu-item">
                <span class="icon">üë§</span><span class="text">Ng∆∞·ªùi d√πng</span>
            </a>
            <!-- KHO·∫¢NG C√ÅCH TR∆Ø·ªöC LOGOUT -->
            <div class="sidebar-separator"></div>

            <!-- N√öT LOGOUT -->
            <a href="#" class="menu-item logout-item" onclick="logout()">
                <span class="icon">üö™</span>
                <span class="text">ƒêƒÉng xu·∫•t</span>
            </a>
        </div>
    </aside>

    <!-- MAIN CONTENT -->
    <main class="main-content">

        <header class="topbar">
            <h1>Qu·∫£n l√Ω ƒê∆°n h√†ng</h1>
        </header>

        <!-- FILTER BAR -->
        <div class="order-filter">
            <div class="order-filter__group">
                <label>Tr·∫°ng th√°i ƒë∆°n</label>
                <select id="filterOrderStatus">
                    <option value="">T·∫•t c·∫£</option>
                    <option value="PENDING">C·∫ßn x√°c nh·∫≠n</option>
                    <option value="SHIPPED">ƒê√£ x√°c nh·∫≠n, ƒëang v·∫≠n chuy·ªÉn</option>
                    <option value="DELIVERED">Giao th√†nh c√¥ng</option>
                    <option value="CANCELLED">ƒê√£ h·ªßy</option>
                </select>
            </div>

            <div class="order-filter__group">
                <label>Ph∆∞∆°ng th·ª©c thanh to√°n</label>
                <select id="filterPaymentMethod">
                    <option value="">T·∫•t c·∫£</option>
                    <option value="COD">COD</option>
                    <option value="BANKING">Chuy·ªÉn kho·∫£n</option>
                </select>
            </div>

            <div class="order-filter__group">
                <label>Tr·∫°ng th√°i thanh to√°n</label>
                <select id="filterPaymentStatus">
                    <option value="">T·∫•t c·∫£</option>
                    <option value="PAID">ƒê√£ thanh to√°n</option>
                    <option value="PENDING">Ch∆∞a thanh to√°n</option>
                </select>
            </div>

            <button class="btn" onclick="loadOrders()">L·ªçc</button>
            <button class="btn" style="background:#64748b" onclick="resetFilters()">Reset</button>
        </div>


        <!-- ORDER TABLE -->
        <div class="table-container">
            <table id="orderTable">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Kh√°ch h√†ng</th>
                    <th>Ng√†y ƒë·∫∑t</th>
                    <th>T·ªïng ti·ªÅn</th>
                    <th>S·∫£n ph·∫©m + SL</th>
                    <th>ƒê·ªãa ch·ªâ</th>
                    <th>Tr·∫°ng th√°i</th>
                    <th>Thanh to√°n</th>
                    <th>H√†nh ƒë·ªông</th>
                </tr>
                </thead>
                <tbody></tbody>
            </table>

        </div>

    </main>
</div>

<!-- MODAL CHI TI·∫æT ƒê∆†N -->
<div id="orderModal" class="modal">
    <div class="modal-content modal-content-lg">
        <h2>Chi ti·∫øt ƒë∆°n h√†ng</h2>

        <p><b>M√£ ƒë∆°n:</b> <span id="orderId"></span></p>
        <p><b>Kh√°ch h√†ng:</b> <span id="orderUser"></span></p>
        <p><b>SƒêT kh√°ch:</b> <span id="customerPhone"></span></p>
        <p><b>Ng√†y ƒë·∫∑t:</b> <span id="orderDate"></span></p>

        <p><b>Ng∆∞·ªùi nh·∫≠n:</b> <span id="recipientName"></span></p>
        <p><b>SƒêT nh·∫≠n:</b> <span id="recipientPhone"></span></p>
        <p><b>ƒê·ªãa ch·ªâ:</b> <span id="shippingAddress"></span></p>

        <p><b>Thanh to√°n:</b> <span id="paymentInfo"></span></p>
        <p><b>T·ªïng ti·ªÅn:</b> <span id="orderTotal"></span></p>
        <p><b>Tr·∫°ng th√°i:</b> <span id="orderStatusText"></span></p>

        <h3>S·∫£n ph·∫©m</h3>
        <table>
            <thead>
            <tr>
                <th>T√™n</th>
                <th>SL</th>
                <th>Gi√°</th>
            </tr>
            </thead>
            <tbody id="orderItems"></tbody>
        </table>

        <div style="display:flex; gap:10px; margin-top:14px;">
            <button class="btn" id="btnConfirm">X√°c nh·∫≠n</button>
            <button class="btn" id="btnDelivered">Giao th√†nh c√¥ng</button>
            <button class="btn" style="background:#d63031" id="btnReject">T·ª´ ch·ªëi</button>
            <button class="btn" style="background:#64748b" onclick="closeModal()">ƒê√≥ng</button>
        </div>
    </div>
</div>
<!-- MODAL L√ù DO T·ª™ CH·ªêI -->
<div id="rejectModal" class="modal">
    <div class="modal-content">
        <h2>T·ª´ ch·ªëi ƒë∆°n h√†ng</h2>

        <label>L√Ω do t·ª´ ch·ªëi</label>
        <textarea id="rejectReason" rows="4" placeholder="Nh·∫≠p l√Ω do..."></textarea>

        <div style="display:flex; gap:10px; margin-top:14px;">
            <button class="btn" style="background:#d63031" id="btnSubmitReject">X√°c nh·∫≠n t·ª´ ch·ªëi</button>
            <button class="btn" style="background:#64748b" onclick="closeRejectModal()">H·ªßy</button>
        </div>
    </div>
</div>


<script src="orders.js"></script>
</body>
</html>
